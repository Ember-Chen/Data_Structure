---
title: 二维数组计算地址
date: 2024-05-13
categories: [总]
---

# 算法
记基址为EA，元素为`a[i][j]`，行数为m，列数为n，行起始标号为is，列起始标号为js，元素大小为k
- 数组按行序排列
    - 地址 = `EA + ((i-is)*n+(j-js))*k`
- 数组按列序排列
    - 地址 = `EA + ((j-js)*m+(i-is))*k`

<!-- more -->

# 例题

- > [e.g.] 设有二维数组`int M[10][20]`(注：m为0...9,n为0...19),每个元素（整数）占两个存储单元，数组的起始地址为2000，元素`M[5][10]`的存储位置为___，`M[8][19]`的存储值为___

    > - 单元数 = (5-0)*20+(10-0) = 110
    > - 占用空间 = 110*2 = 220
    > - 存储位置 = 2000+220 = 2220

- [e.g.] 数组M中每个元素的长度是3个字节，行下标i从1到8，列下标j从1到10，从首的址EA开始连续存放在存
储其中。若按行方式存放，元素`M[8][5]`的起始地址为___；若按列优先方式存放，元素`M[8][5]`的地址为___

    > - 列优先排序：EA+((8-1)*10+(5-1))*3 = EA+222
    > - 行优先排序：EA+((5-1)*8+(8-1))*3 = EA+117

- [e.g.] 设8行10列的二维数组`A[1…8，1…10]`分别以行序为主序和以列序为主序顺序存储时，其首地址相同，那么以以行序为主序时元素`a[3,5]`的地址与以以列序为主序时( )元素的地址相同（A无第0行第0列，`a[i,j]`表示第i行第j列的元素）

    A、`a[7,3]` B、`a[8,3]` C、`a[1,4]` D、`a[6,5]`

    > - 计算`a[3,5]`的偏移 = `(3-1)*10+(5-1)` = 24
    > - 计算`a[i,j]`(列序)的偏移 = `(j-1)*8+(i-1)`
    > - 将各选项代入，解得C正确

- [e.g.] 设有一个二维数组 `A[m][n]`，假设 `A[0][0]`存放位置在 644, `A[2][2]`存放位置在676，每个元素占一个空间，问 `A[3][3]`存放在什么位置?
    > 692



