---
title: 哈希表
date: 2024-05-13
categories: [总]
mathjax: true
---

# 开放定址法-3种探测方式
`H(key)=(H(key)+ d) % M`
> M 为哈希表的表长，d 为一个增量

<!--more-->

## 线性探测（很常考）
- $d=1, 2, 3, ...$
- 当遇到冲突时，从发生冲突位置起，每次 +1，向右探测，直到有空闲的位置为止

## 二次探测（常考）
- $d=+1^2, -1^2, +2^2, -2^2, +3^2, ...$
- 从发生冲突的位置起，按照$+1^2, -1^2, +2^2, -2^2, +3^2, ...$ 的顺序探测，直到有空闲的位置

- [e.g.] 设有一组关键字{9,7,26,16,37,22,89,56}，采用哈希函数：`H(key)=(3*key) mod 11`  表长为 12，用二次探测再散列方法 `Hi=(H(key)+di) mod 11` 解决冲突。构造哈希表，并计算查找成功的平均查找长度。
    > <img src="/img/hash2.png">
    > ASL=1.5
    > 
    > 二次探测非常易错，步长是+1,-1,**+4**,**-4**,**+9**,**-9**,...

## 伪随机探测
- 每次加上一个随机数，直到探测到空闲位置结束


# 链地址法-ASL计算
## 算法
- $ASL_{成功}=\frac{\sum_{i=1}^n(i*COUNT(i))}{n}$
    > 其中$n$表示"搜索元素的个数"，$i$表示"搜索比较次数"
- $ASL_{失败}=\frac{\sum{单条链表的长度}}{哈希表总容量}$

## 例题
- [e.g.] 哈希表容量为13，现有关键字序列`26,36,41,38,44,15,68,12,6,51,25`
    1. 画出加入关键字后的哈希表的示意图
    2. 计算$ASL_{成功}$，$ASL_{失败}$
    > 1. 示意图
    > <img src="/img/hash.png">
    > 
    > 2. 计算ASL
    > $ASL_{成功}=\frac{(1×7+2×2+3×1+4×1)}{11} = 18/11$
    > $ASL_{失败}=\frac{(1+2+1+1+1+1+4)}{13} = 11/13$


# 再哈希法
- 如果发生哈希冲突，则用哈希值再哈希一次，得到新的哈希值

# 散列地址判断
- [e.g.] 对于线性表 (7, 34, 55, 25, 64, 46, 20, 10) 进行散列存储时,若选用 `H(K)=K MOD 9` 作为散列函数,则散列地址为 1 的元素有?个
// 4

